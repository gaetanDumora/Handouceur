<div class="sticky-top">
  <mat-toolbar color="primary" class="shadow">
    <div
      class="container-fluid d-flex justify-content-between align-items-center font-weight-bold"
    >
      <div class="mr-4">
        <mat-menu #appMenu="matMenu">
          <ng-template matMenuContent>
            <button
              mat-menu-item
              routerLink="journey"
              routerLinkActive="active"
            >
              <span>Séjours</span>
            </button>
            <button mat-menu-item routerLink="about" routerLinkActive="active">
              <span>Qui sommes nous</span>
            </button>
            <button
              mat-menu-item
              routerLink="contact"
              routerLinkActive="active"
            >
              <span>Contactez nous</span>
            </button>
            <button
              *ngIf="(user | async)?.admin"
              routerLink="admin"
              mat-menu-item
            >
              <span>Admin </span>
            </button>
          </ng-template>
        </mat-menu>
        <button class="d-lg-none" mat-icon-button [matMenuTriggerFor]="appMenu">
          <mat-icon>menu</mat-icon>
        </button>
      </div>
      <img
        src="../../../assets/logo-removebg.png"
        width="200"
        height="65"
        alt="logo handouceur"
        class="d-none d-sm-inline"
      />

      <div class="d-none d-md-none d-lg-block">
        <button mat-button routerLink="journey">
          <span class="ml-4"> <b>Séjours</b> </span>
        </button>
        <button mat-button routerLink="about">
          <span class="ml-4"><b>Qui sommes nous</b></span>
        </button>
        <button mat-button routerLink="contact">
          <span class="ml-4"><b>Contactez nous</b> </span>
        </button>
        <button *ngIf="(user | async)?.admin" routerLink="admin" mat-button>
          <span class="ml-4"><b>Admin</b> </span>
        </button>
      </div>

      <div class="pill">
        <button
          type="button"
          color="none"
          mat-mini-fab
          routerLink="{{ (user | async) ? 'profile' : 'register' }}"
        >
          <ng-container *ngIf="user | async; else iconTemplate">
            <img [src]="profileImg | async" alt="Profile image" />
          </ng-container>

          <ng-template #iconTemplate>
            <mat-icon class="align-middle">person_outline</mat-icon>
          </ng-template>
        </button>

        <ng-container *ngIf="user | async">
          <span
            >{{ (user | async)?.firstName }}
            {{ (user | async)?.lastName }}</span
          >
        </ng-container>
        <div class="separator"></div>
        <div style="margin-left: -15px">
          <button
            type="button"
            color="none"
            mat-mini-fab
            (click)="changeTheme()"
          >
            <ng-container
              class="align-middle"
              *ngIf="!(isDarkTheme | async); else bedTimeTemplate"
            >
              <mat-icon class="align-middle">lightbulbe_outline</mat-icon>
            </ng-container>
            <ng-template #bedTimeTemplate>
              <mat-icon class="align-middle">bedtime</mat-icon>
            </ng-template>
          </button>
        </div>
      </div>
    </div>
  </mat-toolbar>
</div>
